[tools]
node = "24"
pnpm = "10"

[env]
# Load environment variables from .env files
_.file = [".env", ".env.local"]

[tasks.dev]
run = "pnpm dev"
description = "Start the development server"

[tasks.build]
run = "pnpm build"
description = "Build the application for production"

[tasks.typecheck]
run = "pnpm typecheck"
description = "Run TypeScript type checking"

[tasks.lint]
run = "pnpm lint"
description = "Run ESLint"

[tasks.format]
run = "pnpm format"
description = "Format code with Prettier"

[tasks.check]
run = ["pnpm typecheck", "pnpm lint"]
description = "Run all checks (lint, typecheck, format)"

[tasks.sanity-studio]
run = "pnpm sanity studio"
description = "Start Sanity Studio locally"

[tasks.sanity-deploy]
run = "pnpm sanity deploy"
description = "Deploy Sanity Studio"

# Development workflow tasks
[tasks.setup]
run = [
  "pnpm install",
  "echo 'Installing dependencies...'",
  "echo 'Project setup complete!'",
]
description = "Set up the project for development"

[tasks.fresh]
run = ["rm -rf .next", "rm -rf node_modules/.cache", "pnpm dev"]
description = "Clean build artifacts and restart dev server"
